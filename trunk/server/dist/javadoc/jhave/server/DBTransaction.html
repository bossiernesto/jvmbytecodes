<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_20) on Sun Jul 25 11:05:55 CDT 2010 -->
<TITLE>
DBTransaction
</TITLE>

<META NAME="date" CONTENT="2010-07-25">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DBTransaction";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DBTransaction.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../jhave/server/ClientConnection.html" title="class in jhave.server"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../jhave/server/GaigsServer.html" title="class in jhave.server"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?jhave/server/DBTransaction.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DBTransaction.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
jhave.server</FONT>
<BR>
Class DBTransaction</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>jhave.server.DBTransaction</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>DBTransaction</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
This class contains methods to handle database transactions
 that are require for Jhave instructor application and administrator application
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../jhave/server/DBTransaction.html#DBTransaction()">DBTransaction</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instantiate the class.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../jhave/server/DBTransaction.html#addCourse(java.lang.String, java.lang.String, java.lang.String)">addCourse</A></B>(java.lang.String&nbsp;courseNum,
          java.lang.String&nbsp;courseName,
          java.lang.String&nbsp;instructor)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a course into the database if not already so.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../jhave/server/DBTransaction.html#addQuiz(java.lang.String, java.lang.String)">addQuiz</A></B>(java.lang.String&nbsp;quizName,
        java.lang.String&nbsp;courseID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a quiz to a course if not already so.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../jhave/server/DBTransaction.html#addStudent(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">addStudent</A></B>(java.lang.String&nbsp;courseID,
           java.lang.String&nbsp;username,
           java.lang.String&nbsp;lastName,
           java.lang.String&nbsp;firstName,
           java.lang.String&nbsp;initPass)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a student to a course if not already so.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../jhave/server/DBTransaction.html#changePassword(java.lang.String, java.lang.String, java.lang.String)">changePassword</A></B>(java.lang.String&nbsp;name,
               java.lang.String&nbsp;pass,
               java.lang.String&nbsp;newPass)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Changes the password of a user.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../jhave/server/DBTransaction.html#deleteCourse(java.lang.String, java.lang.String)">deleteCourse</A></B>(java.lang.String&nbsp;courseNum,
             java.lang.String&nbsp;instructor)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deletes a course from the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../jhave/server/DBTransaction.html#deleteInstructor(java.lang.String)">deleteInstructor</A></B>(java.lang.String&nbsp;instructor)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deletes an instructor from the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../jhave/server/DBTransaction.html#deleteOldStudent(int)">deleteOldStudent</A></B>(int&nbsp;year)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deletes students who are older than a certain number of years and not registered to any course.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../jhave/server/DBTransaction.html#deleteQuiz(java.lang.String, java.lang.String)">deleteQuiz</A></B>(java.lang.String&nbsp;quizName,
           java.lang.String&nbsp;courseID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove a quiz from a course.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../jhave/server/DBTransaction.html#deleteStudent(java.lang.String, java.lang.String)">deleteStudent</A></B>(java.lang.String&nbsp;username,
              java.lang.String&nbsp;courseID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove a student from a particular course.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.StringTokenizer</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../jhave/server/DBTransaction.html#getAnswerAndVisualType(java.lang.String, java.lang.String, java.lang.String)">getAnswerAndVisualType</A></B>(java.lang.String&nbsp;student,
                       java.lang.String&nbsp;quiz,
                       java.lang.String&nbsp;startTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Obtains information on a quiz that a student has taken, 
 which includes the student's answer to the quiz, a unique id of the instance, number of questions in the quiz, number of questions answered correctly, and vizualisation type of the quiz.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Vector</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../jhave/server/DBTransaction.html#getCourseList(java.lang.String)">getCourseList</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a list of courses that belongs to an instructor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Vector</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../jhave/server/DBTransaction.html#getQuizGrades(java.lang.String, java.lang.String)">getQuizGrades</A></B>(java.lang.String&nbsp;courseID,
              java.lang.String&nbsp;quizName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Query students grades for a course on a particular quiz
 Throws InvalidDBRequestException if quiz is not used in the course, or if any error occured to the database connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Vector</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../jhave/server/DBTransaction.html#getQuizList(java.lang.String, java.lang.String)">getQuizList</A></B>(java.lang.String&nbsp;instructor,
            java.lang.String&nbsp;student)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Query a quiz list from the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Vector</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../jhave/server/DBTransaction.html#getStudentList(java.lang.String, java.lang.String)">getStudentList</A></B>(java.lang.String&nbsp;name,
               java.lang.String&nbsp;quiz)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Query a student list from the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../jhave/server/DBTransaction.html#instructorLogin(java.lang.String, java.lang.String)">instructorLogin</A></B>(java.lang.String&nbsp;name,
                java.lang.String&nbsp;pass)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check the user's name and password and verify that the user is an instructor.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="DBTransaction()"><!-- --></A><H3>
DBTransaction</H3>
<PRE>
public <B>DBTransaction</B>()</PRE>
<DL>
<DD>Instantiate the class.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="addStudent(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
addStudent</H3>
<PRE>
public void <B>addStudent</B>(java.lang.String&nbsp;courseID,
                       java.lang.String&nbsp;username,
                       java.lang.String&nbsp;lastName,
                       java.lang.String&nbsp;firstName,
                       java.lang.String&nbsp;initPass)
                throws jhave.server.InvalidDBRequestException,
                       jhave.server.FileFailureException</PRE>
<DL>
<DD>Add a student to a course if not already so.
 If student not registered in the student table yet, the user are required to enter the student information so that the student can be added.
 Throws InvalidDBRequestException if user name belongs to an instructor, student already registered in the course, student information differs than the one in the database, student information not available when needed, error occured during insertion, or if other exception occured
 Throws FileFailureException if fail to create folder for the student.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>username</CODE> - student's user name<DD><CODE>courseID</CODE> - course id (course number + instructor name)<DD><CODE>lastname</CODE> - student's last name<DD><CODE>firstname</CODE> - student's first name<DD><CODE>initPass</CODE> - initial password for the student
<DT><B>Throws:</B>
<DD><CODE>InvalidDBRequestException</CODE>
<DD><CODE>jhave.server.FileFailureException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addQuiz(java.lang.String, java.lang.String)"><!-- --></A><H3>
addQuiz</H3>
<PRE>
public void <B>addQuiz</B>(java.lang.String&nbsp;quizName,
                    java.lang.String&nbsp;courseID)
             throws jhave.server.InvalidDBRequestException,
                    jhave.server.FileFailureException</PRE>
<DL>
<DD>Add a quiz to a course if not already so. Also write the menu file for the course.
 Throws InvalidDBRequestException if quiz already in the course, error occured during insertion, or other exception occured.
 Throws FileFailureException if fail to append quiz to the menu.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>quizname</CODE> - the quiz name<DD><CODE>courseID</CODE> - the course id (course number + instructor name)
<DT><B>Throws:</B>
<DD><CODE>InvalidDBRequestException</CODE>
<DD><CODE>jhave.server.FileFailureException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addCourse(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
addCourse</H3>
<PRE>
public void <B>addCourse</B>(java.lang.String&nbsp;courseNum,
                      java.lang.String&nbsp;courseName,
                      java.lang.String&nbsp;instructor)
               throws jhave.server.InvalidDBRequestException</PRE>
<DL>
<DD>Add a course into the database if not already so.
 Throws InvalidDBRequestException if course already in the DB, error occured during insertion, or other exception occured.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>courseNum</CODE> - course number<DD><CODE>courseName</CODE> - name of the course<DD><CODE>instructor</CODE> - name of the instructor who owns the course
<DT><B>Throws:</B>
<DD><CODE>InvalidDBRequestException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="deleteStudent(java.lang.String, java.lang.String)"><!-- --></A><H3>
deleteStudent</H3>
<PRE>
public void <B>deleteStudent</B>(java.lang.String&nbsp;username,
                          java.lang.String&nbsp;courseID)
                   throws jhave.server.InvalidDBRequestException</PRE>
<DL>
<DD>Remove a student from a particular course.
 Also Deletes all the quiz vizualisation files in the student's directory which relates to the course.
 Caution: vizualisation file will be deleted eventhough it also relates to another course if the student is also registered to that course. (FIX ME!)
 Throws InvalidDBRequestException if the student is not registered in the course, error occured during deletion, or other exception occured.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>username</CODE> - student's user name<DD><CODE>courseID</CODE> - course id (course number + instructor name)
<DT><B>Throws:</B>
<DD><CODE>InvalidDBRequestException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="deleteQuiz(java.lang.String, java.lang.String)"><!-- --></A><H3>
deleteQuiz</H3>
<PRE>
public void <B>deleteQuiz</B>(java.lang.String&nbsp;quizName,
                       java.lang.String&nbsp;courseID)
                throws jhave.server.InvalidDBRequestException,
                       jhave.server.FileFailureException</PRE>
<DL>
<DD>Remove a quiz from a course.
 Also deletes all the quiz visualization files from the students' folder who is registered in the course.
 Caution: vizualisation file will be deleted eventhough it also relates to anther course if the student is also registered to that course. (FIX ME!)
 Throws InvalidDBRequestException if the quiz is not registered in the course, error occured during deletion, or other exception occured.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>quizName</CODE> - quiz name<DD><CODE>courseID</CODE> - course id (course number + instructor name)
<DT><B>Throws:</B>
<DD><CODE>InvalidDBRequestException</CODE>
<DD><CODE>jhave.server.FileFailureException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="deleteCourse(java.lang.String, java.lang.String)"><!-- --></A><H3>
deleteCourse</H3>
<PRE>
public void <B>deleteCourse</B>(java.lang.String&nbsp;courseNum,
                         java.lang.String&nbsp;instructor)
                  throws jhave.server.InvalidDBRequestException</PRE>
<DL>
<DD>Deletes a course from the database.
 Also deletes all the quiz visualization files from the students' folder who is registered in the course for all quizzes related to the course.
 Caution: vizualisation file will be deleted eventhough it also relates to anther course if the student is also registered to that course. (FIX ME!)
 Throws InvalidDBRequestException if the course is not in the database, error occured during deletion, or other exception occured.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>courseNum</CODE> - course number<DD><CODE>instructor</CODE> - instructor's user name who owns the course
<DT><B>Throws:</B>
<DD><CODE>InvalidDBRequestException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="deleteOldStudent(int)"><!-- --></A><H3>
deleteOldStudent</H3>
<PRE>
public void <B>deleteOldStudent</B>(int&nbsp;year)
                      throws jhave.server.InvalidDBRequestException</PRE>
<DL>
<DD>Deletes students who are older than a certain number of years and not registered to any course.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>year</CODE> - students older than year are candidates to be deleted
<DT><B>Throws:</B>
<DD><CODE>InvalidDBRequestException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="deleteInstructor(java.lang.String)"><!-- --></A><H3>
deleteInstructor</H3>
<PRE>
public void <B>deleteInstructor</B>(java.lang.String&nbsp;instructor)
                      throws jhave.server.InvalidDBRequestException</PRE>
<DL>
<DD>Deletes an instructor from the database.
 Deletes the instructor's courses by invoking the deleteCourse method.
 Throws InvalidDBRequestException if instructor not in the database or other database connection problems.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>instructor</CODE> - instructor's user name
<DT><B>Throws:</B>
<DD><CODE>InvalidDBRequestException</CODE><DT><B>See Also:</B><DD><CODE>deleteCourse</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="changePassword(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
changePassword</H3>
<PRE>
public void <B>changePassword</B>(java.lang.String&nbsp;name,
                           java.lang.String&nbsp;pass,
                           java.lang.String&nbsp;newPass)
                    throws jhave.server.InvalidNameException,
                           jhave.server.InvalidPassException,
                           jhave.server.InvalidDBRequestException</PRE>
<DL>
<DD>Changes the password of a user.
 Throws InvalidNameException if user's not registered in the database.
 Throws InvalidPassException if user's password was invalid.
 Throws InvalidDBRequestException if error occured during insertion or other database connection problems.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - user's user name<DD><CODE>pass</CODE> - user's password<DD><CODE>newPAss</CODE> - user's new password
<DT><B>Throws:</B>
<DD><CODE>InvalidNameException,</CODE> - InvalidPassException, InvalidDBRequestException
<DD><CODE>jhave.server.InvalidNameException</CODE>
<DD><CODE>jhave.server.InvalidPassException</CODE>
<DD><CODE>jhave.server.InvalidDBRequestException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getCourseList(java.lang.String)"><!-- --></A><H3>
getCourseList</H3>
<PRE>
public java.util.Vector <B>getCourseList</B>(java.lang.String&nbsp;name)
                               throws jhave.server.InvalidDBRequestException</PRE>
<DL>
<DD>Gets a list of courses that belongs to an instructor.
 Throws InvalidDBRequestException if any error occured to the database connection.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - the instructor's user name
<DT><B>Returns:</B><DD>a vector containing the list of courses
<DT><B>Throws:</B>
<DD><CODE>InvalidDBRequestException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getQuizList(java.lang.String, java.lang.String)"><!-- --></A><H3>
getQuizList</H3>
<PRE>
public java.util.Vector <B>getQuizList</B>(java.lang.String&nbsp;instructor,
                                    java.lang.String&nbsp;student)
                             throws jhave.server.InvalidDBRequestException</PRE>
<DL>
<DD>Query a quiz list from the database.
 If there is no student user name specified, the list will contain all quizzes that are used in the instructor's courses.
 Otherwise, the list will contain all quizzes that the student has taken and from the instructor's courses which the student is registered.
 Throws InvalidDBRequestException if any error occured to the database connection.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>instructor</CODE> - instructor's user name<DD><CODE>student</CODE> - student's user name. Can be empty to get a list of all quizzes in the instructor's courses.
<DT><B>Returns:</B><DD>a vector containing the list of quizzes
<DT><B>Throws:</B>
<DD><CODE>InvalidDBRequestException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getStudentList(java.lang.String, java.lang.String)"><!-- --></A><H3>
getStudentList</H3>
<PRE>
public java.util.Vector <B>getStudentList</B>(java.lang.String&nbsp;name,
                                       java.lang.String&nbsp;quiz)
                                throws jhave.server.InvalidDBRequestException</PRE>
<DL>
<DD>Query a student list from the database.
 If quiz name is not specified, the list will contain all students who are registered in the instructor's courses.
 Otherwise, it will contain all students who has taken the quiz and are registered to the instructor's course(s) that use the quiz
 Throws InvalidDBRequestException if any error occured to the database connection.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - instructor's user name<DD><CODE>quiz</CODE> - quiz name. Can be empty String to get the list of all students who are registered in the instructor's courses.
<DT><B>Returns:</B><DD>a vector that contains the list of students
<DT><B>Throws:</B>
<DD><CODE>InvalidDBRequestException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getAnswerAndVisualType(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
getAnswerAndVisualType</H3>
<PRE>
public java.util.StringTokenizer <B>getAnswerAndVisualType</B>(java.lang.String&nbsp;student,
                                                        java.lang.String&nbsp;quiz,
                                                        java.lang.String&nbsp;startTime)
                                                 throws jhave.server.InvalidDBRequestException</PRE>
<DL>
<DD>Obtains information on a quiz that a student has taken, 
 which includes the student's answer to the quiz, a unique id of the instance, number of questions in the quiz, number of questions answered correctly, and vizualisation type of the quiz.
 Throws InvalidDBRequestException if cannot find the record of the stuent taking the quiz, quiz is not registered in the database, or if any error occured to the database connection.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>student</CODE> - student's user name<DD><CODE>quiz</CODE> - quiz name<DD><CODE>startTime</CODE> - the time the student started the quiz
<DT><B>Returns:</B><DD>a string tokenizer containing: answer,uniqueID, numQuestions, numCorrect, and  visualType. It uses "@" as the delimiter.
<DT><B>Throws:</B>
<DD><CODE>InvalidDBRequestException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="instructorLogin(java.lang.String, java.lang.String)"><!-- --></A><H3>
instructorLogin</H3>
<PRE>
public void <B>instructorLogin</B>(java.lang.String&nbsp;name,
                            java.lang.String&nbsp;pass)
                     throws jhave.server.InvalidDBRequestException</PRE>
<DL>
<DD>Check the user's name and password and verify that the user is an instructor.
 Throws InvalidDBRequestException if user is not an instructor, wrong password, or if any error occured to the database connection.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - user's user name<DD><CODE>pass</CODE> - user's password
<DT><B>Throws:</B>
<DD><CODE>InvalidDBRequestException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getQuizGrades(java.lang.String, java.lang.String)"><!-- --></A><H3>
getQuizGrades</H3>
<PRE>
public java.util.Vector <B>getQuizGrades</B>(java.lang.String&nbsp;courseID,
                                      java.lang.String&nbsp;quizName)
                               throws jhave.server.InvalidDBRequestException</PRE>
<DL>
<DD>Query students grades for a course on a particular quiz
 Throws InvalidDBRequestException if quiz is not used in the course, or if any error occured to the database connection.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>courseID</CODE> - course unique id<DD><CODE>quizname</CODE> - quiz unique name
<DT><B>Returns:</B><DD>a vector that contains the students information and the grades
<DT><B>Throws:</B>
<DD><CODE>InvalidDBRequestException</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DBTransaction.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../jhave/server/ClientConnection.html" title="class in jhave.server"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../jhave/server/GaigsServer.html" title="class in jhave.server"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?jhave/server/DBTransaction.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DBTransaction.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
